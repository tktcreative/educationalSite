<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trigonometry (SOH CAH TOA) - Interactive Science Lab</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* A very light gray */
        }
    </style>
</head>
<body class="py-12 px-4 md:px-8">

    <!-- Main container -->
    <div class="max-w-7xl mx-auto">

        <!-- Header -->
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-800 tracking-tight">
                Trigonometry (SOH CAH TOA)
            </h1>
            <p class="text-lg text-gray-600 mt-3 max-w-3xl mx-auto">
                Explore the relationships between angles and side lengths in a right-angled triangle to understand Sine, Cosine, and Tangent.
            </p>
        </header>

        <!-- Simulation Layout -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

            <!-- Left Panel: Information & Controls -->
            <div class="lg:col-span-1 bg-white p-8 rounded-xl shadow-lg border border-gray-200">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">The Ratios</h2>
                <div class="space-y-2 font-mono text-lg bg-gray-100 p-4 rounded-lg mb-6">
                   <p><strong>SOH</strong>: Sin(θ) = Opposite / Hypotenuse</p>
                   <p><strong>CAH</strong>: Cos(θ) = Adjacent / Hypotenuse</p>
                   <p><strong>TOA</strong>: Tan(θ) = Opposite / Adjacent</p>
                </div>
                
                <h3 class="text-xl font-semibold text-gray-800 mb-3">Controls:</h3>
                 <div class="space-y-4 mb-6">
                    <div>
                        <label for="slider-angle" class="font-semibold">Angle θ: <span id="label-angle">45</span>°</label>
                        <input type="range" id="slider-angle" min="10" max="80" value="45" step="1" class="w-full">
                    </div>
                </div>

                <h3 class="text-xl font-semibold text-gray-800 mb-3">Calculations:</h3>
                <div class="space-y-2 text-lg font-mono bg-gray-50 p-4 rounded">
                    <p>Opposite: <span id="calc-opp"></span></p>
                    <p>Adjacent: <span id="calc-adj"></span></p>
                    <p>Hypotenuse: <span id="calc-hyp"></span></p>
                    <hr class="my-2">
                    <p>Sin(θ) = <span id="calc-sin" class="font-bold"></span></p>
                    <p>Cos(θ) = <span id="calc-cos" class="font-bold"></span></p>
                    <p>Tan(θ) = <span id="calc-tan" class="font-bold"></span></p>
                </div>
            </div>

            <!-- Right Panel: Interactive Simulation -->
            <div class="lg:col-span-2 bg-white p-8 rounded-xl shadow-lg border border-gray-200">
                <div class="w-full h-[60vh] relative">
                    <canvas id="simulation-canvas" class="w-full h-full bg-white rounded-lg border"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('simulation-canvas');
        const ctx = canvas.getContext('2d');
        const sliderAngle = document.getElementById('slider-angle');
        
        const labelAngle = document.getElementById('label-angle');
        const calcOpp = document.getElementById('calc-opp');
        const calcAdj = document.getElementById('calc-adj');
        const calcHyp = document.getElementById('calc-hyp');
        const calcSin = document.getElementById('calc-sin');
        const calcCos = document.getElementById('calc-cos');
        const calcTan = document.getElementById('calc-tan');

        let angle = 45; // in degrees
        let origin = { x: 0, y: 0 };
        const hypotenuseLength = 200; // Fixed hypotenuse for simplicity

        function resizeCanvas() {
            const rect = canvas.parentElement.getBoundingClientRect();
            const dpr = window.devicePixelRatio || 1;
            canvas.width = rect.width * dpr;
            canvas.height = rect.height * dpr;
            ctx.scale(dpr, dpr);
            canvas.style.width = `${rect.width}px`;
            canvas.style.height = `${rect.height}px`;
            
            origin.x = 50;
            origin.y = (canvas.height / dpr) - 50;
            
            draw();
        }

        function draw() {
            const w = canvas.width / (window.devicePixelRatio || 1);
            const h = canvas.height / (window.devicePixelRatio || 1);
            ctx.clearRect(0, 0, w, h);
            
            const angleRad = angle * (Math.PI / 180);
            const adjacent = hypotenuseLength * Math.cos(angleRad);
            const opposite = hypotenuseLength * Math.sin(angleRad);

            const p1 = { x: origin.x, y: origin.y }; // Vertex (0,0)
            const p2 = { x: origin.x + adjacent, y: origin.y }; // Vertex on x-axis
            const p3 = { x: origin.x + adjacent, y: origin.y - opposite }; // Top vertex

            // Draw triangle
            ctx.beginPath();
            ctx.moveTo(p1.x, p1.y);
            ctx.lineTo(p2.x, p2.y);
            ctx.lineTo(p3.x, p3.y);
            ctx.closePath();
            ctx.fillStyle = 'rgba(22, 163, 74, 0.1)';
            ctx.fill();
            ctx.strokeStyle = '#15803d';
            ctx.lineWidth = 3;
            ctx.stroke();
            
            // Draw right angle symbol
            ctx.strokeStyle = '#9ca3af';
            ctx.lineWidth = 2;
            ctx.strokeRect(p2.x - 20, p2.y - 20, 20, 20);

            // Draw angle arc
            ctx.beginPath();
            ctx.arc(p1.x, p1.y, 30, 0, -angleRad, true);
            ctx.stroke();

            // Draw labels
            ctx.fillStyle = '#1f2937';
            ctx.font = 'bold 16px Inter';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            ctx.fillText('Adjacent', p1.x + adjacent / 2, p1.y + 20);
            ctx.fillText('Opposite', p2.x + 25, p2.y - opposite / 2);
            
            // Hypotenuse label with rotation
            ctx.save();
            ctx.translate((p1.x + p3.x) / 2, (p1.y + p3.y) / 2);
            ctx.rotate(-angleRad);
            ctx.fillText('Hypotenuse', 0, -15);
            ctx.restore();

            // Angle label
            ctx.fillText('θ', p1.x + 40, p1.y - 15);
            
            updateCalculations(opposite, adjacent);
        }
        
        function updateCalculations(opposite, adjacent) {
            labelAngle.textContent = angle;
            
            calcOpp.textContent = opposite.toFixed(1);
            calcAdj.textContent = adjacent.toFixed(1);
            calcHyp.textContent = hypotenuseLength.toFixed(1);

            const sinVal = opposite / hypotenuseLength;
            const cosVal = adjacent / hypotenuseLength;
            const tanVal = opposite / adjacent;

            calcSin.textContent = sinVal.toFixed(3);
            calcCos.textContent = cosVal.toFixed(3);
            calcTan.textContent = tanVal.toFixed(3);
        }

        sliderAngle.addEventListener('input', (e) => {
            angle = parseInt(e.target.value);
            draw();
        });

        window.addEventListener('resize', resizeCanvas);

        // Initial setup
        resizeCanvas();

    </script>
</body>
</html>
